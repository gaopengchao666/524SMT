<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>车间主任看板</title>
		<link rel="stylesheet" type="text/css" href="../../css/workshopScreen.css"/>
	</head>
	<body>
		<div class="wrap">
			<!-- 标题 -->
			<div class="top">
				<div class="title clear">
					<img src="../../img/screen/bgd_title.png"/>
					<p>SMT生产线管理看板</p>
				</div>
				<div class="currentTime">
					<span>2018年6月23日</span>&emsp;<span>星期四</span>&emsp;<span>09:54:32</span>
				</div>
			</div>
			<!-- 数据 -->
			<div class="content1">
				<span class="con_title">车间生产情况 </span>
				<div class="infoDiv clear">
					<div class="section section_01">
						<p>温度(℃)</p>
						<div class="temperature">
							<img src="../../img/screen/temperature4.png"/>
							<span class="temp_num">24.8</span>
							<div class="showTemp">
								<div id="temp_red_bottom"></div>
								<div id="temp_green"></div>
								<div id="temp_red_top"></div>
							</div>
						</div>
					</div>
					<div class="section">
						<p>湿度(%)</p>
						<div class="humidity"  id="humidity">
							<!--<img src="../../img/screen/humidity.png"/>-->
						</div>
					</div>
					<div class="section section_02">
						<p>上年产量</p>
						<div class="numberDiv1 clear">
							<div>
								<span>1</span>
							</div>
							<div>
								<span>2</span>
							</div>
							<div>
								<span>0</span>
							</div>
							<div>
								<span>0</span>
							</div>
							<div>
								<span id="box1" class="con1">1</span>
								<span id="box2" class="con2">0</span>
								<span id="box3" class="con3">2</span>
							</div>
						</div>
					</div>
					<div class="section section_02">
						<p>当前产量</p>
						<div class="numberDiv1 clear">
							<div>
								<span>0</span>
							</div>
							<div>
								<span>5</span>
							</div>
							<div>
								<span>6</span>
							</div>
							<div>
								<span>3</span>
							</div>
							<div>
								<span>3</span>
							</div>
						</div>
					</div>
					<div class="section">
						<p>月度机损器件</p>
						<div class="numberDiv clear">
							<div>
								<span>0</span>
							</div>
							<div>
								<span>0</span>
							</div>
							<div>
								<span>0</span>
							</div>
							<div>
								<span>2</span>
							</div>
						</div>
					</div>
					<div class="section">
						<p>上周完工工单</p>
						<div class="numberDiv clear">
							<div>
								<span>0</span>
							</div>
							<div>
								<span>1</span>
							</div>
							<div>
								<span>2</span>
							</div>
							<div>
								<span>0</span>
							</div>
						</div>
					</div>
					<div class="section">
						<p>车间在制工单</p>
						<div class="numberDiv clear">
							<div>
								<span>0</span>
							</div>
							<div>
								<span>0</span>
							</div>
							<div>
								<span>3</span>
							</div>
							<div>
								<span>7</span>
							</div>
						</div>
					</div>
					<div class="section section_08">
						<p>在制生产计划</p>
						<div class="numberDiv clear">
							<div>
								<span>0</span>
							</div>
							<div>
								<span>1</span>
							</div>
							<div>
								<span>5</span>
							</div>
							<div>
								<span>5</span>
							</div>
						</div>
					</div>
					<div class="corner">
						<span class="corner1" id="c_leftup01"></span>
						<span class="corner2" id="c_leftup01"></span>
						<span class="corner1" id="c_leftdown02"></span>
						<span class="corner2" id="c_leftdown02"></span>
						<span class="corner1" id="c_rightup03"></span>
						<span class="corner2" id="c_rightup03"></span>
						<span class="corner1" id="c_rightdown04"></span>
						<span class="corner2" id="c_rightdown04"></span>
					</div>
				</div>
			</div>
			<!-- 列表 -->
			<div class="content2">
				<span class="con_title">车间工单信息 </span>
				<table width="100%" border="0" cellspacing="" cellpadding="">
					<tbody>
						<tr>
							<th class="th_02">计划号</th>
							<th class="th_02">产品图号</th>
							<th class="th_02">完工进度</th>
							<th class="th_02">完工数量</th>
							<th class="th_02">在制数量</th>
						</tr>
					</tbody>
					<tbody>
						<tr>
							<td>JH1240045</td>
							<td>IMAGE01</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc01">55%</span>
								</div>
							</td>
							<td>1255</td>
							<td>55</td>
						</tr>
						<tr>
							<td>JH1240045</td>
							<td>IMAGE01</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc02">80%</span>
								</div>
							</td>
							<td>1255</td>
							<td>55</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="content3">
				<span class="con_title">车间生产计划状态 </span>
				<table width="100%" border="0" cellspacing="" cellpadding="">
					<tbody>
						<tr>
							<th class="th_04">车间工位</th>
							<th class="th_04">状态</th>
							<th class="th_03">计划号</th>
							<th class="th_03">产品图号</th>
							<th class="th_04">生产工序</th>
							<th class="th_04">完工数量</th>
							<th class="th_04">剩余数量</th>
							<th class="th_02">完工进度</th>
						</tr>
					</tbody>
					<tbody>
						<tr>
							<td>SMT</td>
							<td><img src="../../img/screen/radio_red.png"/></td>
							<td>JH1245001</td>
							<td>IMAGE01</td>
							<td>1255</td>
							<td>55</td>
							<td>90</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc02">80%</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>AOI</td>
							<td><img src="../../img/screen/radio_red.png"/></td>
							<td>JH1245001</td>
							<td>IMAGE01</td>
							<td>554</td>
							<td>654</td>
							<td>94</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc01">55%</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>回流炉</td>
							<td><img src="../../img/screen/radio_green.png"/></td>
							<td>JH1245001</td>
							<td>IMAGE01</td>
							<td>8751</td>
							<td>1200</td>
							<td>96</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc02">80%</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>人工1</td>
							<td><img src="../../img/screen/radio_red.png"/></td>
							<td>JH1245001</td>
							<td>IMAGE01</td>
							<td>80</td>
							<td>5</td>
							<td>89</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc01">55%</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>返修1</td>
							<td><img src="../../img/screen/radio_green.png"/></td>
							<td>JH1245001</td>
							<td>IMAGE01</td>
							<td>6580</td>
							<td>3278</td>
							<td>95</td>
							<td>
								<div class="progressDiv">
									<span class="progressChange pc02">80%</span>
								</div>
							</td>
						</tr>
					</tbody>					
				</table>
			</div>
			<!-- 图表 -->
			<div class="content4">
				<div class="clear">
					<table width="33%" border="0" cellspacing="" cellpadding="">
						<tbody>
							<tr>
								<th colspan="4">生产人员状态</th>
							</tr>
							<tr>
								<th class="th_01">姓名</th>
								<th class="th_01">照片</th>
								<th class="th_01">政治面貌</th>
								<th class="th_01">状态</th>
							</tr>
						</tbody>
						<tbody>
							<tr>
								<td>张三</td>
								<td><img class="people" src="../../img/screen/peoplePhoto.png"/></td>
								<td><img class="politic" src="../../img/screen/politics1.png"/></td>
								<td><img class="workState" src="../../img/screen/radio_red.png"/></td>
							</tr>
							<tr>
								<td>李四</td>
								<td><img class="people" src="../../img/screen/peoplePhoto.png"/></td>
								<td><img class="politic" src="../../img/screen/politics2.png"/></td>
								<td><img class="workState" src="../../img/screen/radio_green.png"/></td>
							</tr>
							<tr>
								<td>王五</td>
								<td><img class="people" src="../../img/screen/peoplePhoto.png"/></td>
								<td><img class="politic" src="../../img/screen/politics3.png"/></td>
								<td><img class="workState" src="../../img/screen/radio_red.png"/></td>
							</tr>
						</tbody>					
					</table>
					<div class="picture1" id="firstPassyield">
						<!--<img src="../../img/screen/firstPassyield.png"/>-->
					</div>
					<div class="picture2" id="failureMode">
						<!--<img src="../../img/screen/failureMode.png"/>-->
					</div>
				</div>
			</div>
			<!-- 告警 -->
			<div class="warning">
				<p class="warningTitle">告警</p>
				<p class="warningInfo">仓库一的物料X缺料，请及时补料！</p>
			</div>
		</div>
	</body>
	<script src="../../js/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../js/frame/common.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var w = document.documentElement.clientWidth;
		var h = document.documentElement.clientHeight;
		$(".wrap").css("width", w);
		$(".wrap").css("height", w*9/16);
		
		//获取绝对路径
		function getRealPath(){
			var localObj = window.location;
			var contextPath = localObj.pathname.split("/")[1];
			var basePath = localObj.protocol + "//" + localObj.host + "/" + contextPath;
			return basePath;                                                       
		}
  		
		
		// 告警提示框
		var tag = true;
		window.setInterval(function(){
			if(tag){
				$(".warning").css("display", "none");
			 	tag = false;
			}else{
			 	$(".warning").css("display", "block");
			 	tag = true;
			}
		},5000);
		
		
		// 湿度仪表盘展示
		function showGraph(){
			var myChart = echarts.init(document.getElementById('humidity'));			
			option = {
				backgroundColor: 'transparent',
			    tooltip : {
			        formatter: "{a} <br/>{b} : {c}"
			    },
			    toolbox: {
			        show : false,
			        feature : {
			            mark : {show: true},
			            restore : {show: true},
			            saveAsImage : {show: true}
			        }
			    },
			    series : [
			        {
			            name:'显示湿度',
			            type:'gauge',
			            radius: 80,
			            splitNumber: 5,        // 分割段数，默认为5
			            axisLine: {            // 坐标轴线
			                lineStyle: {       // 属性lineStyle控制线条样式
			                    color: [[0.2, '#FF0303'],[0.8, '#00CD00'],[1, '#FF0303']], 
			                    width: 5
			                }
			            },
			            axisTick: {            // 坐标轴小标记
			                splitNumber: 5,    // 每份split细分多少段
			                length :10,         // 属性length控制线长
			                lineStyle: {       // 属性lineStyle控制线条样式
			                    color: 'auto'
			                }
			            },
			            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
			                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
			                    color: 'auto'
			                }
			            },
			            splitLine: {           // 分隔线
			                show: true,        // 默认显示，属性show控制显示与否
			                length :15,        // 属性length控制线长
			                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
			                    color: 'auto'
			                }
			            },
			            pointer : {
			                width : 3
			            },
			            title : {
			                show : true,
			                offsetCenter: [0, '-40%'],       // x, y，单位px
			                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
			                    fontSize: 20,
			                    fontWeight: 'bolder'
			                }
			            },
			            detail : {
			                formatter:'{value}',
			                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
			                    color: 'white',
			                    fontWeight: 'bolder',
			                    fontSize: 16,
			                    padding:[40, 0, 0, 0]
			                }
			            },
			            data:[{value: 30}]
			        }
			    ]
			};
			
			clearInterval(timeTicket);
			var timeTicket = setInterval(function (){
			    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
			    myChart.setOption(option,true);
			    window.onresize = myChart.resize;
			},2000);
		}	
		showGraph();
		
		
		//一次交验合格率分析展示
		function showFirstPassyield(){
			var myChart = echarts.init(document.getElementById('firstPassyield'));
			var firstOption = {
				title : {
			        text: '一次交验合格率分析',
			        textStyle:{
			        	color: '#dcdcdc'
			        }
			    },
			    tooltip : {
			        trigger: 'axis'
			    },
			    legend: {
			        data:['合格率','合格率下限'],
			        textStyle:{
			        	color: '#dcdcdc'
			        }
			    },
			    toolbox: {
			        show : false,
			        feature : {
			            mark : {show: true},
			            dataView : {show: true, readOnly: false},
			            magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
			            restore : {show: true},
			            saveAsImage : {show: true}
			        }
			    },
			    calculable : true,
			    xAxis : [
			        {
			            type : 'category',
			            boundaryGap : false,
//			            name : '计划号',
			            data : ['01001','01002','01003','01004','01005','01006','01007','01008'],
			            splitLine: {
							show: true,
							lineStyle: {
								color: '#646464'
							}
						},
						axisLine:{
							lineStyle: {
								color: '#C8C8C8'
							}
						}
			        }
			    ],
			    yAxis : [
			        {
			            type : 'value',
			            name : '%',
			            splitLine: {
							show: true,
							lineStyle: {
								color: '#646464'
							}
						},
						axisLine:{
							lineStyle: {
								color: '#C8C8C8'
							}
						}
			        }
			    ],
			    series : [
			        {
			            name:'合格率',
			            type:'line',
			            data:[60, 68, 48, 98, 78, 82, 94, 55]
			        },
			        {
			            name:'合格率下限',
			            type:'line',
			            data:[90, 90, 90, 90, 90, 90, 90, 90]
			        }
			    ],
			  color: ['#44a1f8', '#dd5252']
			};
			myChart.setOption(firstOption);
			window.onresize = myChart.resize;
		}
		showFirstPassyield();
		
		
		//失效模式分析展示
		function showFailureMode(){
			var myChart = echarts.init(document.getElementById('failureMode'));
			var failureOption = {
				title : {
			        text: '失效模式分析',
			        textStyle:{
			        	color: '#dcdcdc'
			        }
			    },
			    tooltip : {
			        trigger: 'axis'
			    },
			    toolbox: {
			        show : false,
			        feature : {
			            mark : {show: true},
			            dataView : {show: true, readOnly: false},
			            magicType: {show: true, type: ['line', 'bar']},
			            restore : {show: true},
			            saveAsImage : {show: true}
			        }
			    },
			    calculable : true,
			    legend: {
			        data:['失效模式','数量'],
			        textStyle:{
			        	color: '#dcdcdc'
			        }
			    },
			    xAxis : [
			        {
			            type : 'category',
//			            name : '失效模式',
			            data : ['漏焊','短路','错位','紧固件','拉尖','多装','漏装','锡珠','型号错','方向错'],
			            splitLine: {
							show: true,
							lineStyle: {
								color: '#646464'
							}
						},
						axisLine:{
							lineStyle: {
								color: '#C8C8C8'
							}
						},
						axisLabel:{
							textStyle: {
								fontsize: '10'
							}
						}
			        }
			    ],
			    yAxis : [
			        {
			            type : 'value',
			            name : '%',
			            axisLabel : {
			                formatter: '{value} '
			            },
			            splitLine: {
							show: true,
							lineStyle: {
								color: '#646464'
							}
						},
						axisLine:{
							lineStyle: {
								color: '#C8C8C8'
							}
						}
			        },
			        {
			            type : 'value',
			            name : '数量',
			            axisLabel : {
			                formatter: '{value}'
			            },
			            splitLine: {
							show: true,
							lineStyle: {
								color: '#646464'
							}
						},
						axisLine:{
							lineStyle: {
								color: '#C8C8C8'
							}
						}
			        }
			    ],
			    series : [
			
			        {
			            name:'失效模式',
			            type:'bar',
			            data:[82,68,50,37,29,20,18,18,16,5]
			        },
			        {
			            name:'数量',
			            type:'line',
			            yAxisIndex: 1,
			            data:[7,16,18,22,24,25,27,28,29,30]
			        }
			    ],
			  color: ['#44a1f8', '#dd5252']
			};
			myChart.setOption(failureOption);
			window.onresize = myChart.resize;
		}
		showFailureMode();
	</script>
</html>
